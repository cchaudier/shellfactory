#@(#)=======================================================================
#@(#)    Nom : std.lib
#@(#)    Objet : Fonctions utilitaire de base
#@(#)    Entree :  
#@(#)    Sortie : 
#@(#)    Date de creation : 21/05/14
#@(#)    Auteur : Christophe Chaudier www.cchaudier.fr
#@(#)    Commentaires :
#@(#)======================================================================

# sflib_std_init
# Test et initialise les Variables
# USAGE : sflib_std_init
# ----------------------------------------------
sflib_std_init() {
sflib_log_debug "DEBUT fct sflib_std_init()"
sflib_std_v_extSum=".sum"
sflib_std_v_extGzip=".gz"
sflib_std_v_ficConf=""

#CC : On choisi le awk en fonction du systeme
OS=$(uname)
case ${OS} in 
  AIX|HP-UX|Linux|OSF1) cmd_awk="awk" ;;
  SunOS) cmd_awk="nawk" ;;
  *)
    echo "OS non pris en Compte"
    cmd_awk="awk"
  ;;
  esac
  alias awk=$cmd_awk
  sflib_log_debug "FIN fct sflib_std_init()"
}

# sflib_std_sortie
# USAGE : sflib_std_sortie
# ----------------------------------------------
sflib_std_sortie() {
sflib_log_debug "DEBUT fct sflib_std_sortie()"
sflib_log_debug "FIN fct sflib_std_sortie()"
}

# sflib_std_test_returncode
# Fonction qui test le code retour d'une commande, si celle-ci est en erreur on affiche le message passé en parametre et on sort du script grace a la fonction sortie
# USAGE : sflib_std_test_returncode "Message à afficher si le code retour est incorrecte"
#--------------------------------------------------------------------------------------------------------------------------------------------------------------
sflib_std_test_returncode() {
RC=$?
msgRC=$1

sflib_log_debug "DEBUT fct sflib_std_testRC()"
if [[ $RC -ne 0 ]]; then
  SEVERITE=202
  alerte "$msgRC"
  sortie
fi
sflib_log_debug "FIN fct sflib_std_testRC()"
}
